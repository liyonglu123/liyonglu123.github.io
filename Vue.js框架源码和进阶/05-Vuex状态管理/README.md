# Vuex 状态管理

## 课程目标

    - Vue组件间通信方式
    - Vuex的核心概念和基本使用
    - 购物车案例
    - 模拟实现Vuex

---

### 一、Vue 组件间通信方式

1. 组件内的状态管理流程
   - 状态管理
     - state：驱动应用的数据源
     - view：以声明式的方式将 state 映射到视图
     - actions：响应在 view 上的用户输入导致的状态变化
2. 组件间通信方式
   - 父组件给子组件传值
     - 子组件中通过 props 接收数据
     - 父组件中给子组件通过相应属性传值
   - 子组件给父组件传值
     - 自定义事件
   - 不相关组件之间传值
     - event bus -> $emit, $on
     - 自定义事件，事件中心
   - 通过 ref 获取子组件
     - \$root
     - \$parent
     - \$children
     - \$refs: 在普通的 HTML 标签上使用 ref,获取到的是 DOM；在组件标签上使用 ref,获取到的是组件实例。
3. 存在的问题
   - 多个视图依赖同一状态
   - 来自不同视图的行为需要表更同一状态
   - 采用集中式的状态管理，全局唯一的 store

### 二、Vuex 的核心概念和基本使用

1. Vuex 的定义
   - 专门为 Vue.js 设计的状态管理库
   - 采用集中式的方式存储需要共享的状态
   - 作用是进行状态管理，解决复杂组件通信，数据共享
   - Vuex 集成到了 devtools 中，提供了 time-travel 时光旅行历史回滚功能
2. 什么情况下使用 Vuex
   - 非必要情况下不使用 Vuex
   - 大型的单页应用程序
     - 多个视图依赖同一状态
     - 来自不同视图的行为需要变更同一状态
3. Vuex 核心概念
   - Store
   - State -> mapState
   - Getter -> mapGetters
   - Mutation -> mapMutations
   - Action - > mapActions
   - Module -> 最好添加上命名空间， namespace
4. 严格模式 根据不同的环境选择是否开启严格模式，strict: true

### 三、购物车案例

1. 使用 element-UI 搭建好架子
2. 三个组件
   - 商品列表组件
     - 展示商品列表
     - 添加购物车
   - 购物车列表组件
     - 购物车列表
     - 全选
     - 数字文本框加减功能
     - 删除
     - 统计选中商品的数量和价格
   - 我的购物车组件（弹出窗口模式）
3. Vuex 插件介绍
   - 就是一个函数
   - 这个函数接收一个 store 的参数

### 四、模拟 Vuex

1.
